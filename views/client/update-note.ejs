<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%=titlePage%></title>
  <link rel="stylesheet" href="/../main.css">
  <link rel="stylesheet" href="/../form.css">
</head>

<body>
  <%- include('../layout/navigation.ejs') %>

  <main>
    <form class="update-note-form" action="/update-note" method="POST">
      <h1>Edit Note</h1>

      <% if (errorMessage) { %>
        <p><%=errorMessage%></p>
      <% } %>

      <input 
        type="hidden" 
        name="noteId" 
        value="<% if (errorMessage) { %><%=oldValue.id%><% } else { %><%=note._id %><% } %>" >
      <div class="form-control">
        <label for="title">Note title</label>
        <input 
          type="text" 
          name="title" 
          id="title" 
          value="<% if (errorMessage) { %><%=oldValue.title %><% } else { %><%=note.title %><% } %>">
      </div>
      <div class="form-control">
        <label for="content">Note content</label>
        <textarea name="content" id="content" rows="5"><% if (errorMessage) { %><%=oldValue.content %><% } else { %><%=note.content%><% } %> 
        </textarea>
      </div>
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <button type="submit">Update</button>
    </form>
  </main>
</body>

</html>